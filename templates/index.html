{% extends 'layout.html' %}

{% block title %} Feed | Questioned{% endblock %}

{% block main %}
<main class="container-home">

    <div class="feed">
        <form action="/" method="post" class="post-card">
            <textarea class="question-input" name="text" id="text" cols="50" rows="5"
                placeholder="Do you have questions?" autofocus></textarea>
            <button type="submit" class="btn-post">
                Ask
            </button>


        </form>

        {% if posts %}
        <h2 class="h2-news">News</h2>
        {% endif %}

        {% for post in posts %}
        <div id={{ post.id }} class="post-card">
            <header class="box-content-header">
                <div>
                    <span class="user-name">{{ post.user.name }}</span>
                    <a id={{ post.user_id }} class="a-username" href={{ post.user_username }}>
                        @{{ post.user.username }}
                    </a>
                    <span id="post-date" class="post-date">{{ post.created_at }}</span>
                </div>
                <button class="btn-more-options">
                    <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                </button>
            </header>

            <div class="box-content-data">
                <p>
                    {{ post.text }}
                </p>
            </div>

            <footer class="box-content-footer">
                <div class="box-content-reactions">
                    <span>
                        <i onclick="sendLike({{post.id}})" class="fa fa-thumbs-o-up" aria-hidden="true"></i>
                        {{ post.likes|length }}
                    </span>
                    <span>
                        <i class="fa fa-retweet" aria-hidden="true"></i>
                        reposts
                    </span>
                    <span>
                        <i class="fa fa-comment-o" aria-hidden="true"></i>
                        2 views
                    </span>
                </div>
            </footer>
        </div>
        {% endfor %}
    </div>

    <div class="popular-topics">
        <header class="topics-header">
            <h2>Popular topics</h2>
        </header>
    </div>
</main>
<script src="../static/index.js"></script>
{% endblock %}